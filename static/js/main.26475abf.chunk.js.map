{"version":3,"sources":["components/FlowskipApi.js","components/Button.js","assets/img/logo.png","pages/Home.js","pages/ConfigRoom.js","components/TestingApi.js","components/RedirectFromApi.js","pages/Room.js","styles/variables.js","styles/GlobalStyle.js","components/App.js","index.js"],"names":["baseUrl","userEndpoint","roomEndpoint","fetchErrorMsg","apiDebugSearch","constructRequestOptionsWithAuth","method","requestOptions","headers","Headers","append","localStorage","getItem","withCredentials","credentials","startSession","setFlag","url","URL","join","fetch","then","res","json","data","setItem","session_key","catch","err","Error","console","log","createUser","setUserCreated","status","getSpotifyAuthenticationUrl","setUrl","params","redirect_url","search","URLSearchParams","toString","undefined","authorize_url","removeItem","Button","styled","button","isSessionKeyInDbAtStart","isUserCreatedAtStart","defRoomCodeInDb","Home","useState","sessionKeyInDb","setSessionKeyInDb","userCreated","roomCode","setRoomCode","inputCode","setInputCode","isReadyToCreateRoom","setIsReadyToCreateRoom","history","useHistory","useEffect","window","open","push","Fragment","MainContainer","LogoContainer","Logo","src","LogoImg","alt","CenterSection","Title","Form","action","InputText","onChange","input","document","getElementById","value","readInput","id","type","placeholder","InputSubmit","onClick","body","JSON","stringify","code","joinParticipant","main","div","img","section","h1","form","defUserDetails","ConfigRoom","guestsCanPause","setGuestCanPause","votesToSkip","setVotesToSkip","roomCodeInDb","setRoomCodeInDb","userDetails","setUserDetails","isPremium","setIsPremium","isSpotifyAuthenticated","handleChange","addEventListener","this","length","slice","test","Object","keys","constructor","getUserDetails","spotify_user","product","abort","AbortController","signal","votes_to_skip","guests_can_pause","name","createRoom","Controls","Subtitle","InputsContainer","RadioButton","Label","htmlFor","Votes","Input","RoomButton","BackButton","MainContainerNoPremium","Span","TitleNoPremium","SpotifyPremium","as","href","BackButtonNoPremium","h2","label","span","isSessionKeyInDb","isUserCreated","TestingApi","RedirectFromApi","next","windowParams","location","sessionKeyFromParams","searchParams","get","statusFromParams","Room","showMusicPlayer","windowPath","pathname","split","leaveRoom","variables","css","GlobalStyle","createGlobalStyle","App","exact","path","component","container","ReactDOM","render"],"mappings":"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","file":"static/js/main.26475abf.chunk.js","sourcesContent":["const baseUrl = \"https://flowskip-api.herokuapp.com\";\nconst redirect_url = \"https://flowskip.com/#/redirect-from-api\";\nconst userEndpoint = \"user\";\nconst roomEndpoint = \"room\";\nconst spotifyEndpoint = \"spotify\";\n\nconst apiDebugSearch = \"API !=! \";\nconst fetchErrorMsg = apiDebugSearch + \"failed to fetch api, reason \";\n\nfunction constructRequestOptionsWithAuth(method) {\n  let requestOptions = {};\n  let headers = new Headers();\n  headers.append(\"Content-Type\", \"application/json\");\n  headers.append(\n    \"Authorization\",\n    \"Bearer \" + localStorage.getItem(\"session_key\")\n  );\n  requestOptions.method = method;\n  requestOptions.headers = headers;\n  requestOptions.withCredentials = true;\n  requestOptions.credentials = \"include\";\n  return requestOptions;\n}\n\n// session endpoints\nexport function startSession(setFlag) {\n  const endpoint = [baseUrl, userEndpoint, \"session\", \"start\"];\n  const url = new URL(endpoint.join(\"/\"));\n  let requestOptions = constructRequestOptionsWithAuth(\"POST\");\n\n  fetch(url, requestOptions)\n    .then((res) => res.json())\n    .then((data) => {\n      localStorage.setItem(\"session_key\", data.session_key);\n      setFlag(true);\n    })\n    .catch((err) => new Error(fetchErrorMsg + err));\n\n  console.log(apiDebugSearch + \"Getting session key\");\n}\n\n// user endpoints\nexport function createUser(setUserCreated) {\n  const endpoint = [baseUrl, userEndpoint, \"create\"];\n  const url = new URL(endpoint.join(\"/\"));\n  let requestOptions = constructRequestOptionsWithAuth(\"POST\");\n\n  fetch(url, requestOptions)\n    .then((res) => {\n      if (res.status === 201) {\n        console.log(apiDebugSearch + \"user created\");\n        localStorage.setItem(\"user_created\", true);\n        setUserCreated(true);\n      } else if (res.status === 208) {\n        console.log(apiDebugSearch + \"user already exists\");\n        localStorage.setItem(\"user_created\", true);\n        setUserCreated(true);\n      } else {\n        new Error(\n          apiDebugSearch + \"user not created, response = \" + res.status\n        );\n      }\n    })\n    .catch((err) => new Error(fetchErrorMsg + err));\n}\n\nexport function getUserDetails(setUserDetails) {\n  const endpoint = [baseUrl, userEndpoint, \"details\"];\n  const url = new URL(endpoint.join(\"/\"));\n  let requestOptions = constructRequestOptionsWithAuth(\"GET\");\n\n  console.log(\"getting user details\");\n  fetch(url, requestOptions)\n    .then((res) => res.json())\n    .then((data) => {\n      console.log(data);\n      setUserDetails(data);\n    })\n    .catch((err) => new Error(fetchErrorMsg + err));\n}\n\n// state endpoints\nexport function voteToSkip(setVoteStatus, code, trackId) {\n  const endpoint = [baseUrl, roomEndpoint, \"state\", \"create\"];\n  const url = new URL(endpoint.join(\"/\"));\n  let requestOptions = constructRequestOptionsWithAuth(\"POST\");\n\n  fetch(url, requestOptions)\n    .then((res) => {\n      if (res.status === 201) {\n        setVoteStatus(\"created\");\n      } else if (res.status === 208) {\n        setVoteStatus(\"reported\");\n      } else if (res.status === 410) {\n        new Error(apiDebugSearch + \"too late to vote\");\n        setVoteStatus(\"gone\");\n      } else if (res.status === 301) {\n        new Error(apiDebugSearch + \"theres a new song\");\n        setVoteStatus(\"moved\");\n      }\n    })\n    .catch((err) => new Error(fetchErrorMsg + err));\n}\n\nexport function getDeltas(setters, states) {\n  /*\n    trackId,\n    code,\n    participants = [],\n    votes = [],\n    queue = []\n  */\n  const endpoint = [baseUrl, roomEndpoint, \"state\"];\n  const url = new URL(endpoint.join(\"/\"));\n  let requestOptions = constructRequestOptionsWithAuth(\"PATCH\");\n\n  requestOptions.body = JSON.stringify({\n    track_id: states[\"setTrackID\"],\n    code: states[\"code\"],\n    participants: states[\"participants\"],\n    votes: states[\"votes\"],\n    queue: states[\"queue\"],\n  });\n\n  fetch(url, requestOptions)\n    .then((res) => res.json())\n    .then((data) => {\n      /*\n      setTrackID,\n      setCurrentPlayback,\n      setParticipants,\n      setNewParticipants,\n      setGoneParticipants,\n      setVotesToSkip,\n      setNewVotesToSkip,\n      setQueue,\n      setNewQueueTracks,\n      setGoneQueueTracks,\n    */\n      if (data.current_playback.item === undefined) {\n        setters[\"setTrackID\"](\"\");\n      } else {\n        setters[\"setTrackID\"](data.current_playback.item.id);\n      }\n      setters[\"setCurrentPlayback\"](data.current_playback);\n      setters[\"setParticipants\"](data.participants.all);\n      setters[\"setNewParticipants\"](data.participants.new);\n      setters[\"setGoneParticipants\"](data.participants.gone);\n      setters[\"setVotesToSkip\"](data.votes_to_skip.all);\n      setters[\"setNewVotesToSkip\"](data.votes_to_skip.new);\n      setters[\"setQueue\"](data.queue.all);\n      setters[\"setNewQueueTracks\"](data.queue.new);\n      setters[\"setGoneQueueTracks\"](data.queue.gone);\n    })\n    .catch((err) => new Error(fetchErrorMsg + err));\n}\n\n// participants endpoints\n\nexport function joinParticipant(setRoomCode, roomCode) {\n  const endpoint = [baseUrl, roomEndpoint, \"participants\", \"join\"];\n  let url = new URL(endpoint.join(\"/\"));\n  let requestOptions = constructRequestOptionsWithAuth(\"POST\");\n\n  requestOptions.body = JSON.stringify({\n    code: roomCode,\n  });\n\n  fetch(url, requestOptions)\n    .then((res) => {\n      if (res.status === 201) {\n        console.log(\"Successfully joined\");\n        return { code: roomCode };\n      } else if (res.status === 208) {\n        console.log(\"User is already in room. Leave first!\");\n        return res.json();\n      } else {\n        return undefined;\n      }\n    })\n    .then((data) => {\n      if (data === undefined) {\n        new Error(apiDebugSearch + \"Error reported by backend\");\n      } else {\n        console.log(data);\n        localStorage.setItem(\"room_code\", data.code);\n        setRoomCode(data.code);\n      }\n    });\n}\n\nexport function leaveRoom() {\n  const endpoint = [baseUrl, roomEndpoint, \"participants\", \"leave\"];\n  const url = new URL(endpoint.join(\"/\"));\n  let requestOptions = constructRequestOptionsWithAuth(\"DELETE\");\n\n  fetch(url, requestOptions).catch((err) => {\n    console.log(\"Error \" + err);\n  });\n}\n\n// room endpoints\n\nexport function createRoom(\n  setRoomCodeInDb,\n  signal = null,\n  votesToSkip = 2,\n  guestsCanPause = false\n) {\n  const endpoint = [baseUrl, roomEndpoint, \"create\"];\n  const url = new URL(endpoint.join(\"/\"));\n  let requestOptions = constructRequestOptionsWithAuth(\"POST\");\n  requestOptions.body = JSON.stringify({\n    votes_to_skip: votesToSkip,\n    guests_can_pause: guestsCanPause,\n  });\n  if (signal !== null) {\n    requestOptions.signal = signal.signal;\n  }\n\n  fetch(url, requestOptions)\n    .then((res) => {\n      console.log(res);\n      if (res.status === 200 || res.status === 201) {\n        console.log(\"201 ok\");\n        return res.json();\n      } else if (res.status === 208) {\n        console.log(\"already in room\");\n        return res.json();\n      } else {\n        console.log(\"error\");\n        return undefined;\n      }\n    })\n    .then((data) => {\n      console.log(\"data \" + data.code);\n      if (data === undefined) {\n        new Error(apiDebugSearch + \"Error reported by backend\");\n      } else {\n        localStorage.setItem(\"room_code\", data.code);\n        setRoomCodeInDb(data.code);\n      }\n    })\n    .catch((err) => {\n      if (err.name === \"AbortError\") {\n        console.log(\"Aborting\");\n      } else {\n        console.log(\"error\" + err);\n      }\n    });\n}\n\n// spotify endpoints\nexport function getSpotifyAuthenticationUrl(setUrl) {\n  const endpoint = [baseUrl, spotifyEndpoint, \"authenticate-user\"];\n  const params = {\n    redirect_url: redirect_url,\n  };\n  const url = new URL(endpoint.join(\"/\"));\n  url.search = new URLSearchParams(params).toString();\n  let requestOptions = constructRequestOptionsWithAuth(\"GET\");\n  console.log(\"Getting url\");\n  console.log(localStorage.getItem(\"session_key\"));\n\n  fetch(url, requestOptions)\n    .then((res) => {\n      if (res.status === 208) {\n        localStorage.setItem(\"spotify_authenticated\", \"true\");\n      }\n      return res.json();\n    })\n    .then((data) => {\n      if (data.authorize_url === undefined) {\n        localStorage.removeItem(\"next\");\n        setUrl(\"208\");\n      } else {\n        setUrl(data.authorize_url);\n      }\n    })\n    .catch((err) => new Error(fetchErrorMsg + err));\n}\n","import styled from \"styled-components\";\n\nconst Button = styled.button`\n  height: 80%;\n  max-height: 80px;\n  border-radius: 10px;\n  font-size: 1.6rem;\n  line-height: 1.6rem;\n  background-color: var(--purple);\n  color: white;\n  font-family: var(--font-bungee-bold);\n  border: none;\n  box-shadow: 5px 5px 10px 5px #00000033;\n  padding: 5px 20px;\n  cursor: pointer;\n  transition: 0.3s;\n  width: 100%;\n  max-width: 300px;\n  text-decoration: none;\n  display: flex;\n  justify-self: center;\n  justify-content: center;\n  align-items: center;\n  opacity: 0.9;\n\n  &:active {\n    transform: scale(0.9);\n    opacity: 1;\n  }\n\n  &:hover {\n    filter: brightness(120%);\n    opacity: 1;\n  }\n`;\n\nexport default Button;\n","export default __webpack_public_path__ + \"static/media/logo.97f0d8b3.png\";","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport {\n  startSession,\n  createUser,\n  getSpotifyAuthenticationUrl,\n  joinParticipant,\n} from \"../components/FlowskipApi\";\n\nimport Button from \"../components/Button\";\nimport LogoImg from \"../assets/img/logo.png\";\n\nconst defUrl = \"\";\nconst defIsReadyToCreateRoom = false;\nconst isSessionKeyInDbAtStart = localStorage.getItem(\"session_key\") !== null;\nconst isUserCreatedAtStart = localStorage.getItem(\"user_created\") === \"true\";\nconst defRoomCodeInDb =\n  localStorage.getItem(\"room_code\") !== null\n    ? localStorage.getItem(\"room_code\")\n    : \"\";\nconst defInputCode = \"\";\nexport default function Home() {\n  const [sessionKeyInDb, setSessionKeyInDb] = useState(isSessionKeyInDbAtStart);\n  const [userCreated, setUserCreated] = useState(isUserCreatedAtStart);\n  const [roomCode, setRoomCode] = useState(defRoomCodeInDb);\n  const [inputCode, setInputCode] = useState(defInputCode);\n  const [url, setUrl] = useState(defUrl);\n  const [isReadyToCreateRoom, setIsReadyToCreateRoom] = useState(\n    defIsReadyToCreateRoom\n  );\n  const history = useHistory();\n  useEffect(() => {\n    if (!sessionKeyInDb) {\n      console.log(\"getting session_key\");\n      startSession(setSessionKeyInDb);\n    } else {\n      if (!userCreated) {\n        console.log(\"creating user\");\n        createUser(setUserCreated);\n      } else {\n        // Here all the code to be done with a user\n        console.log(\"blank\");\n      }\n    }\n  }, [sessionKeyInDb, userCreated]);\n\n  useEffect(() => {\n    if (url === \"208\") {\n      setIsReadyToCreateRoom(true);\n    } else if (url !== \"\") {\n      window.open(url, \"_self\");\n    }\n  }, [url]);\n\n  useEffect(() => {\n    if (roomCode !== \"\") {\n      // ? Comment to avoid auto redirect if there's a room code in local storage\n      console.log(\"Room code in LocalStorage!\");\n      history.push(\"room/\" + roomCode);\n    }\n    if (isReadyToCreateRoom) history.push(\"config-room\");\n  }, [isReadyToCreateRoom, history, roomCode]);\n\n  return (\n    <React.Fragment>\n      <MainContainer>\n        <LogoContainer>\n          <Logo src={LogoImg} alt=\"Logo\" />\n        </LogoContainer>\n        <CenterSection>\n          <Title>¡Bienvenido!</Title>\n          <Form action=\"\">\n            <InputText\n              onChange={() => readInput()}\n              id=\"code\"\n              type=\"text\"\n              placeholder=\"Código\"\n            />\n            <InputSubmit\n              type=\"submit\"\n              onClick={() => joinRoomFromCode()}\n              value=\"&#9654;\"\n            />\n          </Form>\n          <Button onClick={() => verifySpotifyAuth()}>Nueva Sala</Button>\n        </CenterSection>\n      </MainContainer>\n    </React.Fragment>\n  );\n\n  function joinRoomFromCode() {\n    if (inputCode !== \"\") {\n      console.log(\"Join From Room Code\");\n      joinParticipant(setRoomCode, inputCode);\n    }\n  }\n\n  function readInput() {\n    var input = document.getElementById(\"code\");\n    console.log(input.value);\n    setInputCode(input.value);\n  }\n\n  function verifySpotifyAuth() {\n    console.log(\"CLICK!\");\n    if (localStorage.getItem(\"spotify_authenticated\") === \"true\") {\n      console.log(\"go to config-room\");\n      history.push(\"config-room\");\n    } else {\n      localStorage.setItem(\"next\", \"config-room\");\n      getSpotifyAuthenticationUrl(setUrl);\n    }\n  }\n}\n\nconst MainContainer = styled.main`\n  padding: 15vw;\n  height: 100vh;\n  display: grid;\n  grid-template-rows: 50% 50%;\n\n  @media screen and (orientation: landscape) and (max-width: 900px) {\n    padding: 5vw 10vw;\n    width: 100vw;\n    height: 100vh;\n    display: grid;\n    grid-template-rows: 1fr;\n    grid-template-columns: 50% 50%;\n    place-items: center center;\n  }\n\n  @media screen and (min-width: 1024px) {\n    padding: 5vw 0 0;\n    height: 100vh;\n    display: grid;\n    grid-template-rows: 50% 50%;\n  }\n\n  @media screen and (min-width: 1024px) and (orientation: portrait) {\n    padding: 15vw;\n    height: 100vh;\n    display: grid;\n    grid-template-rows: 50% 50%;\n  }\n`;\n\nconst LogoContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Logo = styled.img`\n  width: 100%;\n  max-width: 300px;\n\n  @media screen and (orientation: landscape) and (max-width: 900px) {\n    padding: 0 10vw 0 0;\n  }\n`;\n\nconst CenterSection = styled.section`\n  display: grid;\n  grid-template-rows: 30% 30% 30%;\n  place-items: center center;\n  max-height: 300px;\n\n  @media screen and (orientation: landscape) and (max-width: 900px) {\n    height: 80%;\n  }\n\n  @media screen and (min-width: 1024px) and (orientation: portrait) {\n    .main__container {\n      grid-template-rows: 20% 20% 20% 40%;\n      place-items: center center;\n    }\n\n    @media screen and (min-width: 1024px) and (orientation: landscape) {\n      max-height: 400px;\n    }\n  }\n`;\n\nconst Title = styled.h1`\n  color: white;\n  font-size: clamp(2.5rem, 8vw, 4rem);\n  text-align: center;\n  font-family: var(--font-bungee-bold);\n\n  @media screen and (orientation: landscape) and (max-width: 900px) {\n    font-size: clamp(2.5rem, 8vh, 4rem);\n  }\n`;\n\nconst Form = styled.form`\n  display: grid;\n  grid-template-columns: 70% 30%;\n`;\n\nconst InputText = styled.input`\n  width: 100%;\n  height: 100%;\n  padding: 0 10px;\n  border-radius: 10px;\n  font-size: 1.8rem;\n  text-align: center;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:active {\n    outline: none;\n  }\n\n  &:hover {\n    outline: none;\n  }\n`;\n\nconst InputSubmit = styled.input`\n  width: 50px;\n  height: 40px;\n  padding: 0 10px;\n  border-radius: 10px;\n  color: white;\n  font-size: 2rem;\n  background-color: var(--purple);\n  border: none;\n  position: relative;\n  transition: 0.3s;\n  box-shadow: 2px 2px 10px 5px #00000033;\n  cursor: pointer;\n  display: flex;\n  justify-self: flex-end;\n  justify-content: center;\n\n  &:active {\n    transform: scale(0.9);\n  }\n\n  &:hover {\n    filter: brightness(120%);\n  }\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"../components/Button\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { getUserDetails, createRoom } from \"../components/FlowskipApi\";\n\nconst defUserDetails = {};\nconst defIsPremium = true;\nconst defGuestCanPause = false;\nconst defVotesToSkip = 2;\nconst defRoomCodeInDb =\n  localStorage.getItem(\"room_code\") === null\n    ? \"\"\n    : localStorage.getItem(\"room_code\");\nconst defIsReadyToCreateRoom = false;\nexport default function ConfigRoom() {\n  const [guestsCanPause, setGuestCanPause] = useState(defGuestCanPause);\n  const [votesToSkip, setVotesToSkip] = useState(defVotesToSkip);\n  const [roomCodeInDb, setRoomCodeInDb] = useState(defRoomCodeInDb);\n  const [userDetails, setUserDetails] = useState(defUserDetails);\n  const [isPremium, setIsPremium] = useState(defIsPremium);\n  const history = useHistory();\n  const isSpotifyAuthenticated =\n    localStorage.getItem(\"spotify_authenticated\") === \"true\";\n  const [isReadyToCreateRoom, setIsReadyToCreateRoom] = useState(\n    defIsReadyToCreateRoom\n  );\n\n  useEffect(() => {\n    if (isSpotifyAuthenticated && roomCodeInDb === \"\") {\n      if (\n        Object.keys(userDetails).length === 0 &&\n        userDetails.constructor === Object\n      ) {\n        getUserDetails(setUserDetails);\n      } else {\n        if (userDetails.spotify_user.product === \"premium\") {\n          console.log(\"user is premium\");\n        } else {\n          console.log(\"user is not premium\");\n          setIsPremium(false);\n        }\n      }\n    }\n  }, [userDetails, isSpotifyAuthenticated, roomCodeInDb]);\n\n  useEffect(() => {\n    const abort = new AbortController();\n    if (isReadyToCreateRoom) {\n      createRoom(setRoomCodeInDb, abort, votesToSkip, guestsCanPause);\n    }\n    if (roomCodeInDb !== \"\") {\n      history.push(\"room/\" + localStorage.getItem(\"room_code\"));\n    }\n    return function cleanup() {\n      abort.abort();\n    };\n  }, [isReadyToCreateRoom, votesToSkip, guestsCanPause, roomCodeInDb, history]);\n\n  if (!isSpotifyAuthenticated) {\n    history.push(\"/\");\n  }\n\n  function handleChange() {\n    var input = document.getElementById(\"votes\");\n    input.addEventListener(\"input\", function () {\n      if (this.value.length > 2) {\n        this.value = this.value.slice(0, 2);\n      }\n    });\n    setVotesToSkip(/^\\d+$/.test(input.value) ? input.value : defVotesToSkip);\n  }\n\n  return (\n    <React.Fragment>\n      {isReadyToCreateRoom && loadingScreen()}\n      {isPremium &&\n        !isReadyToCreateRoom &&\n        isSpotifyAuthenticated &&\n        renderConfigRoom()}\n      {!isPremium &&\n        !isReadyToCreateRoom &&\n        isSpotifyAuthenticated &&\n        renderUpgradeToSpotifyPremium()}\n    </React.Fragment>\n  );\n\n  function loadingScreen() {\n    return <h1>Loading</h1>;\n  }\n\n  function renderConfigRoom() {\n    return (\n      <MainContainer>\n        <Title>Configuración de la sala</Title>\n        <Controls>\n          <Subtitle>Controles de los invitados</Subtitle>\n          <InputsContainer>\n            <RadioButton\n              type=\"radio\"\n              name=\"controls\"\n              id=\"control\"\n              onChange={() => setGuestCanPause(true)}\n            ></RadioButton>\n            <Label htmlFor=\"control\">Reproducir / Pausar</Label>\n            <RadioButton\n              type=\"radio\"\n              name=\"controls\"\n              id=\"nocontrol\"\n              onChange={() => setGuestCanPause(false)}\n            ></RadioButton>\n            <Label htmlFor=\"nocontrol\">Ninguno</Label>\n          </InputsContainer>\n        </Controls>\n        <Votes>\n          <Subtitle>Votos para saltar canción</Subtitle>\n          <Input\n            id=\"votes\"\n            onChange={handleChange}\n            type=\"number\"\n            placeholder={defVotesToSkip}\n          ></Input>\n        </Votes>\n        <RoomButton onClick={() => setIsReadyToCreateRoom(true)}>\n          ¡Crear sala!\n        </RoomButton>\n        <BackButton onClick={() => history.push(\"/\")}>Regresar</BackButton>\n      </MainContainer>\n    );\n  }\n\n  function renderUpgradeToSpotifyPremium() {\n    return (\n      <MainContainerNoPremium>\n        <Span>😞</Span>\n        <TitleNoPremium>\n          Lo sentimos, esta aplicación solo funciona con una cuenta premium.\n        </TitleNoPremium>\n        <SpotifyPremium as=\"a\" href=\"https://www.spotify.com/mx/premium/\">\n          ¡Sé premium ahora!\n        </SpotifyPremium>\n        <BackButtonNoPremium onClick={() => history.push(\"/\")}>\n          Return\n        </BackButtonNoPremium>\n      </MainContainerNoPremium>\n    );\n  }\n}\n\nconst MainContainer = styled.main`\n  display: grid;\n  padding: 15vh 0;\n  height: 100vh;\n  max-height: 900px;\n  width: 100%;\n  max-width: 300px;\n  margin: 0 auto;\n  grid-template-rows: 100px repeat(2, 25%) repeat(2, 15%);\n  grid-template-areas:\n    \"Title\"\n    \"Controls\"\n    \"Votes\"\n    \"ButtonOne\"\n    \"ButtonTwo\";\n  gap: 10px;\n  position: relative;\n\n  @media screen and (max-width: 900px) and (orientation: landscape) {\n    padding: 0;\n    margin: auto;\n    grid-template-columns: repeat(2, minmax(10%, 1fr));\n    width: 100%;\n    max-height: 500px;\n    min-width: 90vw;\n    grid-template-rows: 100px 25%;\n    grid-template-areas: \"Title Title\" \"Controls Votes\" \"ButtonOne ButtonTwo\";\n    place-items: center center;\n  }\n`;\n\nconst Title = styled.h1`\n  font-size: clamp(2.5rem, 8vw, 3rem);\n  line-height: clamp(2.8rem, 8vw, 3.3rem);\n  font-family: var(--font-bungee-bold);\n  color: white;\n  text-align: center;\n  grid-area: Title;\n`;\n\nconst Controls = styled.div`\n  text-align: center;\n  grid-area: Controls;\n`;\n\nconst Subtitle = styled.h2`\n  color: white;\n  font-size: 2rem;\n  line-height: 2.3rem;\n  font-family: var(--font-bungee-bold);\n`;\n\nconst InputsContainer = styled.div`\n  display: flex;\n  margin-top: 20px;\n  justify-content: space-evenly;\n`;\n\nconst RadioButton = styled.input`\n  display: none;\n\n  &:checked + label {\n    padding: 5px 10px;\n    background: var(--purple);\n    box-shadow: 0 3px 10px 1px #00000033;\n    font-weight: bold;\n  }\n\n  &:checked + label::before {\n    display: none;\n  }\n`;\n\nconst Label = styled.label`\n  color: white;\n  font-size: 1.6rem;\n  position: relative;\n  padding: 5px 5px 5px 30px;\n  cursor: pointer;\n  border-radius: 5px;\n  transition: 0.3s;\n\n  &::before {\n    content: \"\";\n    background: white;\n    height: 20px;\n    width: 20px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    border-radius: 50%;\n    border: 2px solid var(--purple);\n  }\n`;\n\nconst Votes = styled.div`\n  text-align: center;\n  grid-area: Votes;\n`;\n\nconst Input = styled.input`\n  text-align: center;\n  margin-top: 20px;\n  background: transparent;\n  border: none;\n  width: 40px;\n  padding: 5px;\n  color: white;\n  font-size: 1.8rem;\n  border-bottom: 1px solid white;\n\n  &:focus {\n    outline: none;\n  }\n\n  &::placeholder {\n    color: white;\n    opacity: 0.6;\n  }\n`;\n\nconst RoomButton = styled(Button)`\n  grid-area: ButtonOne;\n  padding: 10px 0;\n`;\n\nconst BackButton = styled(Button)`\n  max-width: 150px;\n  display: block;\n  grid-area: ButtonTwo;\n`;\n\n// No premium styles\n\nconst MainContainerNoPremium = styled.main`\n  padding: 5vh 0;\n  display: grid;\n  grid-template-rows: 150px auto repeat(2, 100px);\n  max-height: 800px;\n  place-items: center center;\n  grid-template-areas:\n    \"SadFace\"\n    \"Title\"\n    \"BuySpotify\"\n    \"BackButton\";\n  grid-gap: 20px;\n\n  @media screen and (max-width: 900px) and (orientation: landscape) {\n    grid-template-rows: 150px 100px;\n    grid-template-areas:\n      \"Title Title\"\n      \"BuySpotify BackButton\";\n    grid-gap: 20px;\n  }\n`;\n\nconst Span = styled.span`\n  font-size: 10rem;\n  text-align: center;\n  grid-area: SadFace;\n\n  @media screen and (max-width: 900px) and (orientation: landscape) {\n    display: none;\n  }\n`;\n\nconst TitleNoPremium = styled(Title)`\n  grid-area: Title;\n  line-height: clamp(3rem, 8vw, 4rem);\n`;\n\nconst SpotifyPremium = styled(Button)`\n  grid-area: BuySpotify;\n  animation: animation 4s ease-in-out infinite;\n\n  @keyframes animation {\n    0% {\n      transform: scale(1);\n    }\n    50% {\n      transform: scale(1.1);\n      filter: brightness(105%);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n\n  @media screen and (max-width: 900px) and (orientation: landscape) {\n    @keyframes animation {\n      0% {\n        transform: scale(0.8);\n      }\n      50% {\n        transform: scale(0.95);\n        filter: brightness(105%);\n      }\n      100% {\n        transform: scale(0.8);\n      }\n    }\n  }\n`;\n\nconst BackButtonNoPremium = styled(Button)`\n  max-width: 150px;\n  display: block;\n  grid-area: BackButton;\n\n  @media screen and (max-width: 900px) and (orientation: landscape) {\n    transform: scale(0.8);\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { createUser } from \"./FlowskipApi\";\nimport { getSpotifyAuthenticationUrl } from \"./FlowskipApi\";\nimport { startSession } from \"./FlowskipApi\";\n\nconst defUrl = \"myhome.com\";\nconst isSessionKeyInDb = localStorage.getItem(\"session_key\") !== null;\nconst isUserCreated = localStorage.getItem(\"user_created\") === \"true\";\nexport function TestingApi() {\n  const [sessionKeyInDb, setSessionKeyInDb] = useState(isSessionKeyInDb);\n  const [userCreated, setUserCreated] = useState(isUserCreated);\n  const [url, setUrl] = useState(defUrl);\n  useEffect(() => {\n    if (!sessionKeyInDb) {\n      console.log(\"getting session_key\");\n      startSession(setSessionKeyInDb);\n    } else {\n      if (!userCreated) {\n        console.log(\"creating user\");\n        createUser(setUserCreated);\n      } else {\n        // Here all the code to be done with a user\n        console.log(\"getting auth url\");\n        getSpotifyAuthenticationUrl(setUrl);\n      }\n    }\n  }, [sessionKeyInDb, userCreated]);\n\n  return (\n    <div>\n      <h3>\n        <a href={url}>{url}</a>\n      </h3>\n    </div>\n  );\n}\n","import React from \"react\";\n// import { useEffect} from \"react\";\nimport { useHistory } from \"react-router\";\n\nexport default function RedirectFromApi() {\n  console.log(\"loading\");\n  const showWaitMessage = true;\n  const next = localStorage.getItem(\"next\");\n  const windowParams = new URL(window.location.href);\n  const sessionKeyFromParams = windowParams.searchParams\n    .get(\"session_key\")\n    .toString();\n  const statusFromParams = windowParams.searchParams.get(\"status\").toString();\n  const history = useHistory();\n  if (localStorage.getItem(\"session_key\") !== sessionKeyFromParams) {\n    localStorage.setItem(\"session_key\", sessionKeyFromParams);\n  }\n\n  localStorage.removeItem(\"next\");\n  if (statusFromParams === \"401\") {\n    history.push(\"/\");\n  } else if (statusFromParams === \"200\") {\n    localStorage.setItem(\"spotify_authenticated\", \"true\");\n    history.push(next);\n  } else {\n    history.push(\"error\");\n  }\n\n  return (\n    <React.Fragment>{showWaitMessage && <h2>please wait</h2>}</React.Fragment>\n  );\n}\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Button from \"../components/Button\";\nimport { leaveRoom } from \"../components/FlowskipApi\";\n\nconst defShowPlayer = true;\nexport default function Room() {\n  const [showMusicPlayer, setShowMusicPlayer] = useState(defShowPlayer);\n  const history = useHistory();\n  const windowPath = window.location.pathname.split(\"/\");\n  const roomCodeFromPath = windowPath[2] ? windowPath[2].toString() : undefined;\n\n  if (roomCodeFromPath !== localStorage.getItem(\"room_code\")) {\n    if (localStorage.getItem(\"room_code\") !== null) {\n      history.push(localStorage.getItem(\"room_code\"));\n    }\n  }\n\n  return (\n    <React.Fragment>{showMusicPlayer && renderMusicPlayer()}</React.Fragment>\n  );\n\n  function renderMusicPlayer() {\n    return (\n      <React.Fragment>\n        <h1>Your code: {localStorage.getItem(\"room_code\")}</h1>\n        <br></br>\n        <Button onClick={() => leavingRoom()}>Leave room</Button>\n      </React.Fragment>\n    );\n  }\n\n  function leavingRoom() {\n    leaveRoom();\n    localStorage.removeItem(\"room_code\");\n    history.push(\"/\");\n  }\n}\n\n// TODO Info to call room state\n/*\n  - setters-\n  setTrackID,\n  setCurrentPlayback,\n  setParticipants,\n  setNewParticipants,\n  setGoneParticipants,\n  setVotesToSkip,\n  setNewVotesToSkip,\n  setQueue,\n  setNewQueueTracks,\n  setGoneQueueTracks,\n*/\n\n/*\n  Getters\n  trackId,\n  code,\n  participants = [],\n  votes = [],\n  queue = []\n*/\n","import { css } from \"styled-components\";\n\nconst variables = css`\n  :root {\n    --font-bungee-bold: \"Bungee\", cursive;\n    --font-bungee-light: \"Bungee Hairline\", cursive;\n    --font-bungee-shade: \"Bungee Shade\", cursive;\n    --blue: #23049d;\n    --purple: #aa2ee6;\n    --pink: #ff79cd;\n    --gradient: linear-gradient(\n      90deg,\n      rgba(35, 4, 157, 1) 0%,\n      rgba(170, 46, 230, 1) 50%,\n      rgba(255, 121, 205, 1) 100%\n    );\n  }\n`;\n\nexport default variables;\n","import { createGlobalStyle } from \"styled-components\";\nimport variables from \"./variables\";\n\nconst GlobalStyle = createGlobalStyle`\n\n    ${variables};\n\n    * {\n        box-sizing: border-box;\n        padding: 0;\n        margin: 0;\n    }\n\n    html {\n        font-size: 62.5%;\n    }\n\n    body {\n        background: var(--gradient);\n    }\n\n    ::placeholder {\n        color: #000000;\n        font-family: sans-serif;\n        font-size: 1.8rem;\n        text-align: center;\n    }\n`;\n\nexport default GlobalStyle;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\nimport Home from \"../pages/Home\";\nimport ConfigRoom from \"../pages/ConfigRoom\";\nimport { TestingApi } from \"./TestingApi.js\";\nimport RedirectFromApi from \"./RedirectFromApi.js\";\nimport Room from \"../pages/Room\";\n\nimport GlobalStyle from \"../styles/GlobalStyle\";\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <GlobalStyle />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/test-api\" component={TestingApi} />\n        <Route exact path=\"/config-room\" component={ConfigRoom} />\n        <Route exact path=\"/redirect-from-api\" component={RedirectFromApi} />\n        <Route exact path=\"/room/:room_code\" component={Room} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nconst container = document.getElementById(\"app\");\n\nReactDOM.render(<App />, container);\n"],"sourceRoot":""}